<div class="displays">
    <p-card header="การประมาณการการทำงานของพนักงาน" [style]="{'width': '89rem','height': '9rem'}">
        <div style="font-size: x-large;">
            ประจำเดือน
            <p-dropdown [options]="months" optionLabel="name" [style]="{'width':'25vh'}" (onChange)="getMonthOnChange($event)" placeholder="กรุณาเลือกเดือน"></p-dropdown> ปี พ.ศ.
            <p-dropdown [options]="years" optionLabel="year" [style]="{'width':'25vh'}" (onClick)="createYear()" (onChange)="getYearOnChange($event)" placeholder="กรุณาเลือกปี"></p-dropdown>
        </div>
    </p-card>
</div>
<div class="displays">
    <div class="grid" style="margin-top: 2rem;">
        <div class="grid-item">
            <p-card header="พนักงานคงเหลือ" [style]="{'width': '15rem', 'margin-bottom': '2em', 'height': '15rem'}">
                <div style="margin-left: 6.6vh;">
                    <p-knob [(ngModel)]="employeeLeft" [min]="0" [max]="amountEmployees.amountEmployees" [readonly]="true"></p-knob>
                    <div style="margin-left: 1.25vh;">
                        <p-tag styleClass="mr-2" icon="pi pi-user" [style]="{'width': '5rem'}" value="{{employeeLeft}}/{{amountEmployees.amountEmployees}} คน"></p-tag>
                    </div>
                </div>
            </p-card>
        </div>
        <div class="grid-item">
            <p-card header="โครงการที่กำลังดำเนินการ" [style]="{'width': '35rem', 'height': '15rem'}">
                <p-scrollPanel [style]="{width: '100%', height: '9rem'}" styleClass="custombar1">
                    <div style="font-size: 20px;">
                        <div class="card" *ngFor="let project of projectInProgress">
                            <p-tag styleClass="mr-2" [style]="{'width': '100%','font-size': '24px'}" value="{{project.projName}}"><i class="pi pi-briefcase" style="margin-right: 1vh;"></i></p-tag>
                            <br> วันที่เริ่มต้นโครงการ : {{project.projStartDate | formatDate}}
                            <br> วันที่สิ้นสุดโครงการ : {{project.projEndDate | formatDate}}
                        </div>
                    </div>
                </p-scrollPanel>
            </p-card>
        </div>
        <div class="grid-item">
            <p-card header="โครงการที่จะเริ่มต้นภายในเดือนนี้" [style]="{'width': '35rem', 'height': '15rem'}">
                <p-scrollPanel [style]="{width: '100%', height: '9rem'}" styleClass="custombar1">
                    <div style="font-size: 20px;">
                        <div class="card" *ngFor="let project of projectInProgress">
                            <p-tag styleClass="mr-2" [style]="{'width': '100%','font-size': '24px'}" value="{{project.projName}}"><i class="pi pi-briefcase" style="margin-right: 1vh;"></i></p-tag>
                            <br> วันที่เริ่มต้นโครงการ : {{project.projStartDate | formatDate}}
                            <br> วันที่สิ้นสุดโครงการ : {{project.projEndDate | formatDate}}
                        </div>
                    </div>
                </p-scrollPanel>
            </p-card>
        </div>
    </div>
</div>

<div class="displays">
    <p-card header="คำร้องขอพนักงาน & พนักงานที่จะสิ้นสุดปฏิบัติการ" [style]="{'width': '89rem','margin-bottom': '2em','height': '45rem'}">
        <div class="displays">
            <div class="grid">
                <div class="grid-item">
                    <p-card header="คำร้องขอพนักงานสำหรับเดือนนี้" [style]="{'width': '42rem', 'margin-bottom': '2em', 'height': '38rem'}">
                        <div style="padding-bottom: 1vh;">
                            <p-tag styleClass="mr-2" value="ต้องการพนักงานสำหรับปฏิบัติงานทั้งหมด {{amountEmployeeNeed}} คน" severity="warning" [style]="{'width': '45vh','font-size': '15px','margin-left':'35vh'}"></p-tag>
                        </div>
                        <p-scrollPanel [style]="{width: '100%', height: '35rem'}">
                            <div class="card" *ngFor="let project of projectInProgress">
                                <p-tag styleClass="mr-2" [style]="{'width': '100%','font-size': '24px'}" value="{{project.projName}}"><i class="pi pi-briefcase" style="margin-right: 1vh;"></i></p-tag>
                                <div class="displays ">
                                    <div class="grid ">
                                        <div class="grid-item">
                                            <div class="card" style="padding: 0.5vh;width: 27vh;">
                                                <p-tag styleClass="mr-2" [style]="{ 'width': '100%', 'font-size': '18px'} " value="จำนวนพนักงานที่ต้องการ"></p-tag>
                                                <div style="text-align: center;"><br>{{project.amountPerson}} คน</div>
                                            </div>
                                        </div>
                                        <div class="grid-item">
                                            <div class="card " style="padding: 0.5vh;width: 19vh; ">
                                                <p-tag styleClass="mr-2" severity="success" [style]="{ 'width': '100%', 'font-size': '18px'} " value="วันที่เริ่มต้น"></p-tag>
                                                <div style="text-align: center; "><br>{{project.projStartDate | formatDate}}</div>
                                            </div>
                                        </div>
                                        <div class="grid-item">
                                            <div class="card " style="padding: 0.5vh;width: 19vh;">
                                                <p-tag styleClass="mr-2" severity="danger" [style]="{ 'width': '100%', 'font-size': '18px'} " value="สิ้นสุดวันที่"></p-tag>
                                                <div style="text-align: center; "><br>{{project.projEndDate | formatDate}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </p-scrollPanel>
                    </p-card>
                </div>
                <div class="grid-item">
                    <p-card header="พนักงานที่จะสิ้นสุดปฏิบัติการในเดือนนี้" [style]="{'width': '42rem', 'margin-bottom': '2em', 'height': '38rem'}">
                        <div style="padding-bottom: 1vh;">
                            <p-tag styleClass="mr-2" value="พนักงานที่จะสิ้นสุดการปฏิบัติงาน {{amountEmployeeAlmostDone}} คน" severity="success" [style]="{'width': '45vh','font-size': '15px','margin-left':'35vh'}"></p-tag>
                        </div>
                        <p-scrollPanel [style]="{width: '100%', height: '28.5rem'}">
                            <div class="card" *ngFor="let employee of employeeAlmostDone">
                                <p-fieldset legend="{{employee[0].project}}">
                                    <div *ngFor="let employeeData of employee">
                                        <div class="card" style="margin-bottom: 2vh;padding: 2vh;">
                                            <p-tag styleClass="mr-2" value="{{employeeData.Name}}" [style]="{'width': '100%','font-size': '20px','color': '#495057','background': 'white'}"><i class="pi pi-user" style="margin-right: 1vh;"></i></p-tag>
                                            <div class="grid" style="margin-left: 0.5vh;">
                                                <div class="grid-item">
                                                    <div class="card" style="padding: 0.5vh;width: 27vh;">
                                                        <p-tag styleClass="mr-2" [style]="{'width': '100%','font-size': '15px'}" value="ตำแหน่งงาน"></p-tag>
                                                        <div style="text-align: center;"><br>{{employeeData.position}}</div>
                                                    </div>
                                                </div>
                                                <div class="grid-item">
                                                    <div class="card" style="padding: 0.5vh;">
                                                        <p-tag styleClass="mr-2" severity="success" [style]="{'width': '100%','font-size': '15px'}" value="วันที่เริ่มต้น"></p-tag>
                                                        <br>{{employeeData.employeeWorkingData.startDate | formatDate}}
                                                    </div>
                                                </div>
                                                <div class="grid-item">
                                                    <div class="card" style="padding: 0.5vh;">
                                                        <p-tag styleClass="mr-2" severity="danger" [style]="{'width': '100%','font-size': '15px'}" value="วันที่สิ้นสุด:"></p-tag>
                                                        <br>{{employeeData.employeeWorkingData.endDate | formatDate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <p-progressBar value="{{employeeData.employeeWorkingData.empWorking}}"></p-progressBar>
                                        </div>
                                    </div>
                                </p-fieldset>
                            </div>
                        </p-scrollPanel>
                    </p-card>
                </div>
            </div>
        </div>
    </p-card>
</div>

<div class="displays">
    <div class="grid">
        <div class="grid-item">
            <p-card header="พนักงานที่กำลังปฏิบัติงาน" [style]="{'width': '43.5rem', 'margin-bottom': '2em', 'height': '45rem'}">
                <div style="padding-bottom: 1vh;">
                    <p-tag styleClass="mr-2" value="กำลังปฏิบัติงานอยู่ {{amountEmployeeWorking}} คน" severity="danger" [style]="{'width': '25vh','font-size': '15px','margin-left':'58vh'}"></p-tag>
                </div>
                <p-scrollPanel [style]="{width: '100%', height: '35rem'}">
                    <div style="font-size: 20px;">
                        <div class="card" *ngFor="let employee of employeeWorking">
                            <p-fieldset legend="{{employee[0].project}}">
                                <div *ngFor="let employeeData of employee">
                                    <div class="card" style="margin-bottom: 2vh;padding: 2vh;">
                                        <p-tag styleClass="mr-2" value="{{employeeData.Name}}" [style]="{'width': '100%','font-size': '20px','color': '#495057','background': 'white'}"><i class="pi pi-user" style="margin-right: 1vh;"></i></p-tag>
                                        <div class="grid" style="margin-left: 0.5vh;">
                                            <div class="grid-item">
                                                <div class="card" style="padding: 0.5vh;width: 27vh;">
                                                    <p-tag styleClass="mr-2" [style]="{'width': '100%','font-size': '15px'}" value="ตำแหน่งงาน"></p-tag>
                                                    <div style="text-align: center;"><br>{{employeeData.position}}</div>
                                                </div>
                                            </div>
                                            <div class="grid-item">
                                                <div class="card" style="padding: 0.5vh;">
                                                    <p-tag styleClass="mr-2" severity="success" [style]="{'width': '100%','font-size': '15px'}" value="วันที่เริ่มต้น"></p-tag>
                                                    <br>{{employeeData.employeeWorkingData.startDate | formatDate}}
                                                </div>
                                            </div>
                                            <div class="grid-item">
                                                <div class="card" style="padding: 0.5vh;">
                                                    <p-tag styleClass="mr-2" severity="danger" [style]="{'width': '100%','font-size': '15px'}" value="วันที่สิ้นสุด:"></p-tag>
                                                    <br>{{employeeData.employeeWorkingData.endDate | formatDate}}
                                                </div>
                                            </div>
                                        </div>
                                        <p-progressBar value="{{employeeData.employeeWorkingData.empWorking}}"></p-progressBar>
                                    </div>
                                </div>
                            </p-fieldset>
                        </div>
                    </div>
                </p-scrollPanel>
            </p-card>
        </div>
        <div class="grid-item">
            <p-card header="พนักงานที่ยังไม่ปฏิบัติงาน" [style]="{'width': '43.5rem', 'margin-bottom': '2em', 'height': '45rem'}">
                <div style="padding-bottom: 1vh;">
                    <p-tag styleClass="mr-2" value="ยังไม่มีการปฏิบัติงาน {{employeeLeft}} คน" severity="success" [style]=" { 'width': '25vh', 'font-size': '15px', 'margin-left': '58vh'} "></p-tag>
                </div>
                <p-scrollPanel [style]="{width: '100%', height: '35rem'} ">
                    <div class="card " style="margin-bottom: 2vh;padding: 2vh; " *ngFor="let employee of employeeFree ">
                        <p-tag styleClass="mr-2 " value="{{employee.firstName}} {{employee.lastName}} " [style]="{ 'width': '100%', 'font-size': '20px', 'color': '#495057', 'background': 'white'} "><i class="pi pi-user " style="margin-right: 1vh; "></i></p-tag>
                        <div class="displays ">
                            <div class="grid " style="margin-left: 0.5vh; ">
                                <div class="grid-item ">
                                    <div class="card " style="padding: 0.5vh;width: 20vh; ">
                                        <p-tag styleClass="mr-2 " [style]="{ 'width': '100%', 'font-size': '15px'} " value="ตำแหน่งงาน "></p-tag>
                                        <div style="text-align: center; "><br>{{employee.position}}</div>
                                    </div>
                                </div>
                                <div class="grid-item ">
                                    <div class="card " style="padding: 0.5vh;width: 20vh; ">
                                        <p-tag styleClass="mr-2 " [style]="{ 'width': '100%', 'font-size': '15px'} " value="แผนก "></p-tag>
                                        <div style="text-align: center; "><br>{{employee.department}}</div>
                                    </div>
                                </div>
                                <div class="grid-item ">
                                    <div class="card " style="padding: 0.5vh;width: 20vh; ">
                                        <p-tag styleClass="mr-2 " severity="success" [style]="{ 'width': '100%', 'font-size': '15px'} " value="สถานะ "></p-tag>
                                        <div style="text-align: center; "><br>ว่าง</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-scrollPanel>
            </p-card>
        </div>
    </div>
</div>